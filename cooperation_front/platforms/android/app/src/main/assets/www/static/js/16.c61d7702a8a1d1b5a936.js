webpackJsonp([16],{V7Sk:function(t,e){},attR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),o=a.n(s),l=a("TVmP"),c=a("DZOf"),r=a("Ui/T"),u={components:{Footer:l.a},data:function(){return{tags:["关于计划","关于好友"],activeName:"关于计划",notifications:[],num:0}},methods:{handleClick:function(t){console.log(t.name);var e={};e="关于好友"==t.name?{type:"friend"}:{type:"plan"},this.getNotifications(e)},getNotifications:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(i.a.mark(function a(){var n,s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(r.a)();case 2:return n=a.sent,a.next=5,Object(c.b)("/api/notification/find",{filter:{$and:[{receiver:n.data._id},e]}});case 5:s=a.sent,console.log(s),t.notifications=s.data;case 8:case"end":return a.stop()}},a,t)}))()}},mounted:function(){this.getNotifications()}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticStyle:{height:"150px"}},[a("el-row",[a("el-badge",{staticClass:"message",attrs:{value:t.num}},[a("h1",{staticStyle:{"margin-top":"0px"}},[t._v("我的消息")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tags,function(e){return a("el-tab-pane",{key:e,staticStyle:{width:"100px"},attrs:{label:e,name:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-button",{staticStyle:{"background-color":"#C1D3E8"},attrs:{round:""}},[t._v("全部已读")])],1)],1)],1),t._v(" "),a("el-main",[t.notifications.length>0?a("div",{staticClass:"big-box"},t._l(t.notifications,function(e){return a("el-row",{key:e._id,staticClass:"small-box"},[a("el-col",{attrs:{span:6}},[a("el-avatar",{attrs:{size:40,icon:"el-icon-user-solid"}})],1),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-row",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.message))]),t._v(" "),a("el-row",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.time))])],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-message"})])],1)}),1):a("div",{staticClass:"big-box"},[a("el-row",[t._v("\n        暂无消息\n      ")])],1)]),t._v(" "),a("Footer")],1)},staticRenderFns:[]};var v=a("VU/8")(u,f,!1,function(t){a("V7Sk")},null,null);e.default=v.exports}});
//# sourceMappingURL=16.c61d7702a8a1d1b5a936.js.map